import{h as a,A as n,l as r}from"./index.7519c7b4.js";const i=document.location.search,c=new URLSearchParams(i),l=c.get("id");async function d(t){try{const e={method:"PUT",headers:a("application/json"),body:JSON.stringify(t)};(await fetch(`${n}/${l}`,e)).ok?location.reload():alert("oops! something went wrong. please fill in the correct details. media must be a valid url")}catch(e){console.log(e)}}document.getElementById("updateListingForm").addEventListener("submit",t=>{t.preventDefault();const e=t.target,o={title:e.title.value,description:e.description.value,tags:Array.of(e.listingTag.value),media:Array.of(e.newMedia.value.toString())};d(o)});const m=document.location.search,u=new URLSearchParams(m),p=u.get("id"),g=`${n}/${p}`;async function h(t){try{const e={method:"DELETE",headers:a("application/json"),body:JSON.stringify(t)},o=await fetch(`${g}`,e),s=r("profile");o&&(location.href=`/src/html/profile.html?name=${s.name}`)}catch(e){console.log(e)}}const f=document.location.search,y=new URLSearchParams(f),$=y.get("id");document.getElementById("delete").addEventListener("submit",t=>{t.preventDefault(),h($)});
